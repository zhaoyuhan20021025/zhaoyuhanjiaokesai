/*
 * @Author: wangchen35
 * @Date: 2021-08-07 16:54:31
 * @LastEditors: wangchen35
 * @LastEditTime: 2023-01-12 17:32:34
 * @Description: file content
 */
import {
    Object3D,
    Vector3,
} from 'bmap-three';

export class TrafficObject extends Object3D {
    constructor() {
        super();
        this.needTrans = true;
        this.point = new Vector3();
    }
    /** @private */
    afterAddToEngine(engine) {
        this.engine = engine;
    }

    onBeforeScenePrepareRender() {
        if (this.needTrans) {
            this.point.copy(this.position);
            const [setX, setY] = this.engine.map.projectCoordinates([this.position.x, this.position.y]);
            this.position.x = setX;
            this.position.y = setY;
            this.needTrans = false;
        }
    }
}
